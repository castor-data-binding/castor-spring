<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Sat Apr 11 22:16:36 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CastorDialect (Spring ORM implementation for Castor JDO 2.2-SNAPSHOT API)</title>
<meta name="date" content="2015-04-11">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CastorDialect (Spring ORM implementation for Castor JDO 2.2-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CastorDialect.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/castor/spring/orm/dialect/DefaultCastorDialect.html" title="class in org.castor.spring.orm.dialect"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/castor/spring/orm/dialect/CastorDialect.html" target="_top">Frames</a></li>
<li><a href="CastorDialect.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.castor.spring.orm.dialect</div>
<h2 title="Interface CastorDialect" class="title">Interface CastorDialect</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><a href="../../../../../org/castor/spring/orm/dialect/DefaultCastorDialect.html" title="class in org.castor.spring.orm.dialect">DefaultCastorDialect</a></dd>
</dl>
<hr>
<br>
<pre>public interface <span class="strong">CastorDialect</span></pre>
<div class="block">SPI strategy that encapsulates certain functionality that Castor JDO does
 not offer despite being relevant in the context of O/R mapping, like access to
 the underlying JDBC Connection and explicit flushing of changes to the database.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>07.03.2006</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Werner Guttmann</dd>
<dt><span class="strong">See Also:</span></dt><dd><code>CastorTransactionManager#setCastorDialect</code>, 
<code>CastorAccessor#setCastorDialect</code></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#applyQueryTimeout(org.exolab.castor.jdo.OQLQuery,%20int)">applyQueryTimeout</a></strong>(org.exolab.castor.jdo.OQLQuery&nbsp;query,
                 int&nbsp;timeout)</code>
<div class="block">Apply the given timeout to the given Castor JDO query object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#beginTransaction(org.exolab.castor.jdo.Database,%20org.springframework.transaction.TransactionDefinition)">beginTransaction</a></strong>(org.exolab.castor.jdo.Database&nbsp;database,
                org.springframework.transaction.TransactionDefinition&nbsp;definition)</code>
<div class="block">Begin a transaction with the given Castor JDO Database, applying the 
 semantics specified by the given Spring transaction definition (in 
 particular, an isolation level and a timeout).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#cleanupTransaction(java.lang.Object)">cleanupTransaction</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transactionData)</code>
<div class="block">Clean up the transaction via the given transaction data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#flush(org.exolab.castor.jdo.Database)">flush</a></strong>(org.exolab.castor.jdo.Database&nbsp;database)</code>
<div class="block">Flush the given Castor JDO Database, i.e. flush all changes (that have been
 applied to persistent objects) to the underlying database.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.springframework.jdbc.datasource.ConnectionHandle</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#getJdbcConnection(org.exolab.castor.jdo.Database,%20boolean)">getJdbcConnection</a></strong>(org.exolab.castor.jdo.Database&nbsp;database,
                 boolean&nbsp;readOnly)</code>
<div class="block">Retrieve the JDBC Connection that the given Castor JDO Database uses underneath,
 if accessing a relational database.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,%20org.exolab.castor.jdo.Database)">releaseJdbcConnection</a></strong>(org.springframework.jdbc.datasource.ConnectionHandle&nbsp;conHandle,
                     org.exolab.castor.jdo.Database&nbsp;database)</code>
<div class="block">Release the given JDBC Connection, which has originally been retrieved
 via <code>getJdbcConnection</code>.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.springframework.dao.DataAccessException</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#translateException(org.exolab.castor.jdo.PersistenceException)">translateException</a></strong>(org.exolab.castor.jdo.PersistenceException&nbsp;ex)</code>
<div class="block">Translate the given JDOException to a corresponding exception from Spring's
 generic DataAccessException hierarchy.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="beginTransaction(org.exolab.castor.jdo.Database, org.springframework.transaction.TransactionDefinition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginTransaction</h4>
<pre><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;beginTransaction(org.exolab.castor.jdo.Database&nbsp;database,
                      org.springframework.transaction.TransactionDefinition&nbsp;definition)
                        throws org.exolab.castor.jdo.PersistenceException,
                               <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a>,
                               org.springframework.transaction.TransactionException</pre>
<div class="block">Begin a transaction with the given Castor JDO Database, applying the 
 semantics specified by the given Spring transaction definition (in 
 particular, an isolation level and a timeout). Invoked by 
 CastorTransactionManager on transaction begin.
 <p>An implementation can also apply read-only flag and isolation level to the
 underlying JDBC Connection before beginning the transaction. In that case,
 a transaction data object can be returned that holds the previous isolation
 level (and possibly other data), to be reset in cleanupTransaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>database</code> - Castor JDO Database to start a local transaction with.</dd><dd><code>definition</code> - the Spring transaction definition that defines semantics</dd>
<dt><span class="strong">Returns:</span></dt><dd>an arbitrary object that holds transaction data, if any
 (to be passed into cleanupTransaction)</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.exolab.castor.jdo.PersistenceException</code> - if thrown by Castor JDO methods</dd>
<dd><code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - if thrown by JDBC methods</dd>
<dd><code>org.springframework.transaction.TransactionException</code> - in case of invalid arguments</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#cleanupTransaction(java.lang.Object)"><code>cleanupTransaction(java.lang.Object)</code></a>, 
<code>org.exolab.castor.persist.TransactionContext#begin</code>, 
<code>DataSourceUtils.prepareConnectionForTransaction(java.sql.Connection, org.springframework.transaction.TransactionDefinition)</code></dd></dl>
</li>
</ul>
<a name="cleanupTransaction(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cleanupTransaction</h4>
<pre>void&nbsp;cleanupTransaction(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transactionData)</pre>
<div class="block">Clean up the transaction via the given transaction data.
 Invoked by CastorTransactionManager on transaction cleanup.
 <p>An implementation can, for example, reset read-only flag and
 isolation level of the underlying JDBC Connection.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>transactionData</code> - arbitrary object that holds transaction data, if any
 (as returned by beginTransaction)</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#beginTransaction(org.exolab.castor.jdo.Database,%20org.springframework.transaction.TransactionDefinition)"><code>beginTransaction(org.exolab.castor.jdo.Database, org.springframework.transaction.TransactionDefinition)</code></a>, 
<code>DataSourceUtils.resetConnectionAfterTransaction(java.sql.Connection, java.lang.Integer)</code></dd></dl>
</li>
</ul>
<a name="getJdbcConnection(org.exolab.castor.jdo.Database, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJdbcConnection</h4>
<pre>org.springframework.jdbc.datasource.ConnectionHandle&nbsp;getJdbcConnection(org.exolab.castor.jdo.Database&nbsp;database,
                                                                     boolean&nbsp;readOnly)
                                                                       throws org.exolab.castor.jdo.PersistenceException,
                                                                              <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Retrieve the JDBC Connection that the given Castor JDO Database uses underneath,
 if accessing a relational database. This method will just get invoked if actually
 needing access to the underlying JDBC Connection, usually within an active Castor JDO
 transaction (for example, by CastorTransactionManager). The returned handle will
 be passed into the <code>releaseJdbcConnection</code> method when not needed anymore.
 <p>Implementations are encouraged to return an unwrapped Connection object, i.e.
 the Connection as they got it from the connection pool. This makes it easier for
 application code to get at the underlying native JDBC Connection, like an
 OracleConnection, which is sometimes necessary for LOB handling etc. We assume
 that calling code knows how to properly handle the returned Connection object.
 <p>In a simple case where the returned Connection will be auto-closed with the
 Castor JDO Database or can be released via the Connection object itself, an
 implementation can return a SimpleConnectionHandle that just contains the
 Connection. If some other object is needed in <code>releaseJdbcConnection</code>,
 an implementation should use a special handle that references that other object.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>database</code> - the current Castor JDO Database</dd><dd><code>readOnly</code> - true if read-only</dd>
<dt><span class="strong">Returns:</span></dt><dd>a handle for the JDBC Connection, to be passed into
 <code>releaseJdbcConnection</code>, or null if no JDBC Connection can be retrieved</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.exolab.castor.jdo.PersistenceException</code> - if thrown by Castor JDO methods</dd>
<dd><code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - if thrown by JDBC methods</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle,%20org.exolab.castor.jdo.Database)"><code>releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle, org.exolab.castor.jdo.Database)</code></a>, 
<code>ConnectionHandle.getConnection()</code>, 
<code>SimpleConnectionHandle</code>, 
<code>CastorTransactionManager#setDataSource</code>, 
<code>org.springframework.jdbc.support.nativejdbc.NativeJdbcExtractor</code></dd></dl>
</li>
</ul>
<a name="releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle, org.exolab.castor.jdo.Database)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>releaseJdbcConnection</h4>
<pre>void&nbsp;releaseJdbcConnection(org.springframework.jdbc.datasource.ConnectionHandle&nbsp;conHandle,
                         org.exolab.castor.jdo.Database&nbsp;database)
                           throws org.exolab.castor.jdo.PersistenceException,
                                  <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></pre>
<div class="block">Release the given JDBC Connection, which has originally been retrieved
 via <code>getJdbcConnection</code>. This should be invoked in any case,
 to allow for proper release of the retrieved Connection handle.
 <p>An implementation might simply do nothing, if the Connection returned
 by <code>getJdbcConnection</code> will be implicitly closed when the Castor
 transaction completes or when the Castor JDO Database is closed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>conHandle</code> - the JDBC Connection handle to release</dd><dd><code>database</code> - the current Castor JDO Database</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.exolab.castor.jdo.PersistenceException</code> - if thrown by Castor JDO methods</dd>
<dd><code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</a></code> - if thrown by JDBC methods</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../org/castor/spring/orm/dialect/CastorDialect.html#getJdbcConnection(org.exolab.castor.jdo.Database,%20boolean)"><code>getJdbcConnection(org.exolab.castor.jdo.Database, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="applyQueryTimeout(org.exolab.castor.jdo.OQLQuery, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyQueryTimeout</h4>
<pre>void&nbsp;applyQueryTimeout(org.exolab.castor.jdo.OQLQuery&nbsp;query,
                     int&nbsp;timeout)
                       throws org.exolab.castor.jdo.PersistenceException</pre>
<div class="block">Apply the given timeout to the given Castor JDO query object.
 <p>Invoked by CastorTemplate with the remaining time of a specified
 transaction timeout, if any.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>query</code> - the Castor JDO query object to apply the timeout to</dd><dd><code>timeout</code> - the timeout value to apply</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.exolab.castor.jdo.PersistenceException</code> - if thrown by Castor JDO methods</dd><dt><span class="strong">See Also:</span></dt><dd><code>CastorTemplate#prepareQuery</code></dd></dl>
</li>
</ul>
<a name="flush(org.exolab.castor.jdo.Database)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush(org.exolab.castor.jdo.Database&nbsp;database)
           throws org.exolab.castor.jdo.PersistenceException</pre>
<div class="block">Flush the given Castor JDO Database, i.e. flush all changes (that have been
 applied to persistent objects) to the underlying database. This method will
 just get invoked when eager flushing is actually necessary, for example when
 JDBC access code needs to see changes within the same transaction.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>database</code> - the current Castor JDO Database</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>org.exolab.castor.jdo.PersistenceException</code> - if thrown by Castor JDO methods</dd><dt><span class="strong">See Also:</span></dt><dd><code>CastorAccessor#setFlushEager</code>, 
<code>Database</code></dd></dl>
</li>
</ul>
<a name="translateException(org.exolab.castor.jdo.PersistenceException)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>translateException</h4>
<pre>org.springframework.dao.DataAccessException&nbsp;translateException(org.exolab.castor.jdo.PersistenceException&nbsp;ex)</pre>
<div class="block">Translate the given JDOException to a corresponding exception from Spring's
 generic DataAccessException hierarchy. An implementation should apply
 JDOManagerUtils' standard exception translation if can't do
 anything more specific.
 <p>Of particular importance is the correct translation to
 DataIntegrityViolationException, for example on constraint violation.
 <p>Can use a SQLExceptionTranslator for translating underlying SQLExceptions
 in a database-specific fashion.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - the JDOException thrown</dd>
<dt><span class="strong">Returns:</span></dt><dd>the corresponding DataAccessException (must not be null)</dd><dt><span class="strong">See Also:</span></dt><dd><code>CastorAccessor#convertJdoAccessException</code>, 
<code>CastorTransactionManager#convertJdoAccessException</code>, 
<code>JDOManagerUtils#convertJdoAccessException</code>, 
<code>DataIntegrityViolationException</code>, 
<code>SQLExceptionTranslator</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CastorDialect.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/castor/spring/orm/dialect/DefaultCastorDialect.html" title="class in org.castor.spring.orm.dialect"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/castor/spring/orm/dialect/CastorDialect.html" target="_top">Frames</a></li>
<li><a href="CastorDialect.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
