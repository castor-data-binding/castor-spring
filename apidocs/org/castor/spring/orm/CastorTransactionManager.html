<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (version 1.7.0_76) on Sat Apr 11 22:03:44 CEST 2015 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>CastorTransactionManager (Spring ORM implementation for Castor JDO 2.2-SNAPSHOT API)</title>
<meta name="date" content="2015-04-11">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CastorTransactionManager (Spring ORM implementation for Castor JDO 2.2-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CastorTransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/castor/spring/orm/CastorTemplate.html" title="class in org.castor.spring.orm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/castor/spring/orm/CastorUnsupportedOptionException.html" title="class in org.castor.spring.orm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/castor/spring/orm/CastorTransactionManager.html" target="_top">Frames</a></li>
<li><a href="CastorTransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.springframework.transaction.support.AbstractPlatformTransactionManager">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.castor.spring.orm</div>
<h2 title="Class CastorTransactionManager" class="title">Class CastorTransactionManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.springframework.transaction.support.AbstractPlatformTransactionManager</li>
<li>
<ul class="inheritance">
<li>org.castor.spring.orm.CastorTransactionManager</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/io/Serializable.html?is-external=true" title="class or interface in java.io">Serializable</a>, org.springframework.beans.factory.InitializingBean, org.springframework.transaction.PlatformTransactionManager</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">CastorTransactionManager</span>
extends org.springframework.transaction.support.AbstractPlatformTransactionManager
implements org.springframework.beans.factory.InitializingBean</pre>
<div class="block">PlatformTransactionManager implementation for a single Castor JDO JDOManager.
 Binds a JDO Database from the specified factory to the thread, potentially
 allowing for one thread Database per factory. JDOManagerUtils
 and CastorTemplate are aware of thread-bound Databases and participate in such
 transactions automatically. Using either is required for Castor JDO access code supporting
 this transaction management mechanism.

 <p>This implementation is appropriate for applications that solely use Castor JDO for
 transactional data access. JTA (usually through JtaTransactionManager) is necessary for
 accessing multiple transactional resources. Note that you need to configure Castor JDO accordingly 
 to make it participate in JTA transactions.

 <p>With a CastorDialect specified, this implementation also supports direct DataSource
 access within a transaction (i.e. plain JDBC code working with the same DataSource).
 This allows for mixing services that access Castor JDO (including transactional caching)
 and services that use plain JDBC (without being aware of Castor JDO)!
 Application code needs to stick to the same simple Connection lookup pattern as
 with DataSourceTransactionManager (i.e. <code>DataSourceUtils.getConnection</code>).

 <p>Note that to be able to register a DataSource's Connection for plain JDBC code,
 this instance needs to be aware of the DataSource (see "dataSource" property).
 The given DataSource should obviously match the one used by the given
 Castor JDOManager. This transaction manager will auto-detect the DataSource
 that acts as "connectionFactory" of the JDOManager, so you usually
 don't need to explicitly specify the "dataSource" property.

 <p>On JDBC 3.0, this transaction manager supports nested transactions via JDBC
 3.0 Savepoints. The "nestedTransactionAllowed" flag defaults to false, though,
 as nested transactions will just apply to the JDBC Connection, not to the JDO 
 Database and its cached objects. You can manually set the flag to true
 if you want to use nested transactions for JDBC access code that participates
 in JDO transactions (provided that your JDBC driver supports Savepoints).</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>19.05.2005</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Werner Guttmann</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setJDOManager(org.exolab.castor.jdo.JDOManager)"><code>setJDOManager(org.exolab.castor.jdo.JDOManager)</code></a>, 
<a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setDataSource(javax.sql.DataSource)"><code>setDataSource(javax.sql.DataSource)</code></a>, 
<code>JDOManager.getConnectionFactory()</code>, 
<a href="../../../../org/castor/spring/orm/LocalCastorFactoryBean.html" title="class in org.castor.spring.orm"><code>LocalCastorFactoryBean</code></a>, 
<a href="../../../../org/castor/spring/orm/JDOManagerUtils.html#getDatabase(org.exolab.castor.jdo.JDOManager,%20boolean)"><code>JDOManagerUtils.getDatabase(JDOManager,boolean)</code></a>, 
<a href="../../../../org/castor/spring/orm/JDOManagerUtils.html#closeDatabaseIfNecessary(org.exolab.castor.jdo.Database,%20org.exolab.castor.jdo.JDOManager)"><code>JDOManagerUtils.closeDatabaseIfNecessary(org.exolab.castor.jdo.Database, org.exolab.castor.jdo.JDOManager)</code></a>, 
<a href="../../../../org/castor/spring/orm/CastorTemplate.html#execute(org.castor.spring.orm.CastorCallback)"><code>CastorTemplate.execute(CastorCallback)</code></a>, 
<code>DataSourceUtils.getConnection(javax.sql.DataSource)</code>, 
<code>org.springframework.jdbc.datasource.DataSourceUtils#closeConnectionIfNecessary</code>, 
<code>org.springframework.jdbc.core.JdbcTemplate</code>, 
<code>org.springframework.transaction.jta.JtaTransactionManager</code>, 
<a href="../../../../org/castor/spring/orm/CastorTransactionManager.html" title="class in org.castor.spring.orm"><code>CastorTransactionManager</code></a>, 
<a href="../../../../serialized-form.html#org.castor.spring.orm.CastorTransactionManager">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.springframework.transaction.support.AbstractPlatformTransactionManager">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.springframework.transaction.support.AbstractPlatformTransactionManager</h3>
<code>logger, SYNCHRONIZATION_ALWAYS, SYNCHRONIZATION_NEVER, SYNCHRONIZATION_ON_ACTUAL_TRANSACTION</code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#CastorTransactionManager()">CastorTransactionManager</a></strong>()</code>
<div class="block">Create a new CastorTransactionManager instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#CastorTransactionManager(org.exolab.castor.jdo.JDOManager)">CastorTransactionManager</a></strong>(org.exolab.castor.jdo.JDOManager&nbsp;jdoManager)</code>
<div class="block">Create a new CastorTransactionManager instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#afterPropertiesSet()">afterPropertiesSet</a></strong>()</code>
<div class="block">Eagerly initialize the Castor JDO dialect, creating a default one
 for the specified JDOManager if none set.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected org.springframework.dao.DataAccessException</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#convertJdoAccessException(org.exolab.castor.jdo.PersistenceException)">convertJdoAccessException</a></strong>(org.exolab.castor.jdo.PersistenceException&nbsp;ex)</code>
<div class="block">Convert the given JDOException to an appropriate exception from the
 org.springframework.dao hierarchy.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doBegin(java.lang.Object,%20org.springframework.transaction.TransactionDefinition)">doBegin</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction,
       org.springframework.transaction.TransactionDefinition&nbsp;definition)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doCleanupAfterCompletion(java.lang.Object)">doCleanupAfterCompletion</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doCommit(org.springframework.transaction.support.DefaultTransactionStatus)">doCommit</a></strong>(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doGetTransaction()">doGetTransaction</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doResume(java.lang.Object,%20java.lang.Object)">doResume</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction,
        <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;suspendedResources)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doRollback(org.springframework.transaction.support.DefaultTransactionStatus)">doRollback</a></strong>(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doSetRollbackOnly(org.springframework.transaction.support.DefaultTransactionStatus)">doSetRollbackOnly</a></strong>(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#doSuspend(java.lang.Object)">doSuspend</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html" title="interface in org.castor.spring.orm.dialect">CastorDialect</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#getCastorDialect()">getCastorDialect</a></strong>()</code>
<div class="block">Return the Castor dialect to use for this transaction manager.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#getDataSource()">getDataSource</a></strong>()</code>
<div class="block">Return the JDBC DataSource that this instance manages transactions for.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>org.exolab.castor.jdo.JDOManager</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#getJdoManager()">getJdoManager</a></strong>()</code>
<div class="block">Return the JDOManager that this instance should manage transactions for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#isExistingTransaction(java.lang.Object)">isExistingTransaction</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setAutodetectDataSource(boolean)">setAutodetectDataSource</a></strong>(boolean&nbsp;autodetectDataSource)</code>
<div class="block">Set whether to autodetect a JDBC DataSource used by the Castor JDOManager,
 as returned by the <code>getConnectionFactory()</code> method.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setCastorDialect(org.castor.spring.orm.dialect.CastorDialect)">setCastorDialect</a></strong>(<a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html" title="interface in org.castor.spring.orm.dialect">CastorDialect</a>&nbsp;castorDialect)</code>
<div class="block">Set the Castor JDO dialect to use for this transaction manager.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setDataSource(javax.sql.DataSource)">setDataSource</a></strong>(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource)</code>
<div class="block">Set the JDBC DataSource that this instance should manage transactions for.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setJDOManager(org.exolab.castor.jdo.JDOManager)">setJDOManager</a></strong>(org.exolab.castor.jdo.JDOManager&nbsp;jdoManager)</code>
<div class="block">Set the JDOManager that this instance should manage transactions for.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.springframework.transaction.support.AbstractPlatformTransactionManager">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.springframework.transaction.support.AbstractPlatformTransactionManager</h3>
<code>commit, determineTimeout, getDefaultTimeout, getTransaction, getTransactionSynchronization, invokeAfterCompletion, isFailEarlyOnGlobalRollbackOnly, isGlobalRollbackOnParticipationFailure, isNestedTransactionAllowed, isRollbackOnCommitFailure, isValidateExistingTransaction, newTransactionStatus, prepareForCommit, prepareSynchronization, prepareTransactionStatus, registerAfterCompletionWithExistingTransaction, resume, rollback, setDefaultTimeout, setFailEarlyOnGlobalRollbackOnly, setGlobalRollbackOnParticipationFailure, setNestedTransactionAllowed, setRollbackOnCommitFailure, setTransactionSynchronization, setTransactionSynchronizationName, setValidateExistingTransaction, shouldCommitOnGlobalRollbackOnly, suspend, triggerBeforeCommit, triggerBeforeCompletion, useSavepointForNestedTransaction</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CastorTransactionManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CastorTransactionManager</h4>
<pre>public&nbsp;CastorTransactionManager()</pre>
<div class="block">Create a new CastorTransactionManager instance.
 A JDOManager has to be set to be able to use it.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setJDOManager(org.exolab.castor.jdo.JDOManager)"><code>setJDOManager(org.exolab.castor.jdo.JDOManager)</code></a></dd></dl>
</li>
</ul>
<a name="CastorTransactionManager(org.exolab.castor.jdo.JDOManager)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CastorTransactionManager</h4>
<pre>public&nbsp;CastorTransactionManager(org.exolab.castor.jdo.JDOManager&nbsp;jdoManager)</pre>
<div class="block">Create a new CastorTransactionManager instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>jdoManager</code> - JDOManager to manage transactions for</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setJDOManager(org.exolab.castor.jdo.JDOManager)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJDOManager</h4>
<pre>public&nbsp;void&nbsp;setJDOManager(org.exolab.castor.jdo.JDOManager&nbsp;jdoManager)</pre>
<div class="block">Set the JDOManager that this instance should manage transactions for.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>jdoManager</code> - JDOManager that this instance should manage transactions for</dd></dl>
</li>
</ul>
<a name="getJdoManager()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJdoManager</h4>
<pre>public&nbsp;org.exolab.castor.jdo.JDOManager&nbsp;getJdoManager()</pre>
<div class="block">Return the JDOManager that this instance should manage transactions for.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>JDOManager that this instance should manage transactions for</dd></dl>
</li>
</ul>
<a name="setDataSource(javax.sql.DataSource)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDataSource</h4>
<pre>public&nbsp;void&nbsp;setDataSource(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;dataSource)</pre>
<div class="block">Set the JDBC DataSource that this instance should manage transactions for.
 The DataSource should match the one used by the Castor JDO JDOManager:
 for example, you could specify the same JNDI DataSource for both.
 <p>If the JDOManager uses a DataSource as connection factory,
 the DataSource will be auto-detected: You can still explictly specify the
 DataSource, but you don't need to in this case.
 <p>A transactional JDBC Connection for this DataSource will be provided to
 application code accessing this DataSource directly via DataSourceUtils
 or JdbcTemplate. The Connection will be taken from the Castor JDO Database.
 <p>The DataSource specified here should be the target DataSource to manage
 transactions for, not a TransactionAwareDataSourceProxy. Only data access
 code may work with TransactionAwareDataSourceProxy, while the transaction
 manager needs to work on the underlying target DataSource. If there's
 nevertheless a TransactionAwareDataSourceProxy passed in, it will be
 unwrapped to extract its target DataSource.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>dataSource</code> - JDBC DataSource instance.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setAutodetectDataSource(boolean)"><code>setAutodetectDataSource(boolean)</code></a>, 
<a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setCastorDialect(org.castor.spring.orm.dialect.CastorDialect)"><code>setCastorDialect(org.castor.spring.orm.dialect.CastorDialect)</code></a>, 
<code>JDOManager.getConnectionFactory()</code>, 
<code>TransactionAwareDataSourceProxy</code></dd></dl>
</li>
</ul>
<a name="getDataSource()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDataSource</h4>
<pre>public&nbsp;<a href="http://docs.oracle.com/javase/1.5.0/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</a>&nbsp;getDataSource()</pre>
<div class="block">Return the JDBC DataSource that this instance manages transactions for.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>JDBC DataSource that this instance manages transactions for</dd></dl>
</li>
</ul>
<a name="setAutodetectDataSource(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAutodetectDataSource</h4>
<pre>public&nbsp;void&nbsp;setAutodetectDataSource(boolean&nbsp;autodetectDataSource)</pre>
<div class="block">Set whether to autodetect a JDBC DataSource used by the Castor JDOManager,
 as returned by the <code>getConnectionFactory()</code> method. Default is true.
 <p>Can be turned off to deliberately ignore an available DataSource,
 to not expose Castor JDO transactions as JDBC transactions for that DataSource.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>autodetectDataSource</code> - If true, autodetect a JDBC DataSource</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/CastorTransactionManager.html#setDataSource(javax.sql.DataSource)"><code>setDataSource(javax.sql.DataSource)</code></a>, 
<code>JDOManager.getConnectionFactory()</code></dd></dl>
</li>
</ul>
<a name="setCastorDialect(org.castor.spring.orm.dialect.CastorDialect)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCastorDialect</h4>
<pre>public&nbsp;void&nbsp;setCastorDialect(<a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html" title="interface in org.castor.spring.orm.dialect">CastorDialect</a>&nbsp;castorDialect)</pre>
<div class="block">Set the Castor JDO dialect to use for this transaction manager.
 <p>The dialect object can be used to retrieve the underlying JDBC connection
 and thus allows for exposing Castor transactions as JDBC transactions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>castorDialect</code> - Castor dialect to use.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html#getJdbcConnection(org.exolab.castor.jdo.Database,%20boolean)"><code>CastorDialect.getJdbcConnection(org.exolab.castor.jdo.Database, boolean)</code></a></dd></dl>
</li>
</ul>
<a name="getCastorDialect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCastorDialect</h4>
<pre>public&nbsp;<a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html" title="interface in org.castor.spring.orm.dialect">CastorDialect</a>&nbsp;getCastorDialect()</pre>
<div class="block">Return the Castor dialect to use for this transaction manager.
 Creates a default one for the specified JDOManager if none set.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>a Castor dialect to use for this transaction manager</dd></dl>
</li>
</ul>
<a name="afterPropertiesSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>afterPropertiesSet</h4>
<pre>public&nbsp;void&nbsp;afterPropertiesSet()</pre>
<div class="block">Eagerly initialize the Castor JDO dialect, creating a default one
 for the specified JDOManager if none set.
 Auto-detect the JDOManager's DataSource, if any.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>afterPropertiesSet</code>&nbsp;in interface&nbsp;<code>org.springframework.beans.factory.InitializingBean</code></dd>
</dl>
</li>
</ul>
<a name="doGetTransaction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doGetTransaction</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;doGetTransaction()</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>doGetTransaction</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="isExistingTransaction(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExistingTransaction</h4>
<pre>protected&nbsp;boolean&nbsp;isExistingTransaction(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>isExistingTransaction</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doBegin(java.lang.Object, org.springframework.transaction.TransactionDefinition)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doBegin</h4>
<pre>protected&nbsp;void&nbsp;doBegin(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction,
           org.springframework.transaction.TransactionDefinition&nbsp;definition)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>doBegin</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doSuspend(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSuspend</h4>
<pre>protected&nbsp;<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;doSuspend(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>doSuspend</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doResume(java.lang.Object, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doResume</h4>
<pre>protected&nbsp;void&nbsp;doResume(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction,
            <a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;suspendedResources)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>doResume</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doCommit(org.springframework.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCommit</h4>
<pre>protected&nbsp;void&nbsp;doCommit(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>doCommit</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doRollback(org.springframework.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRollback</h4>
<pre>protected&nbsp;void&nbsp;doRollback(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</pre>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>doRollback</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doSetRollbackOnly(org.springframework.transaction.support.DefaultTransactionStatus)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doSetRollbackOnly</h4>
<pre>protected&nbsp;void&nbsp;doSetRollbackOnly(org.springframework.transaction.support.DefaultTransactionStatus&nbsp;status)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>doSetRollbackOnly</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="doCleanupAfterCompletion(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doCleanupAfterCompletion</h4>
<pre>protected&nbsp;void&nbsp;doCleanupAfterCompletion(<a href="http://docs.oracle.com/javase/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a>&nbsp;transaction)</pre>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>doCleanupAfterCompletion</code>&nbsp;in class&nbsp;<code>org.springframework.transaction.support.AbstractPlatformTransactionManager</code></dd>
</dl>
</li>
</ul>
<a name="convertJdoAccessException(org.exolab.castor.jdo.PersistenceException)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>convertJdoAccessException</h4>
<pre>protected&nbsp;org.springframework.dao.DataAccessException&nbsp;convertJdoAccessException(org.exolab.castor.jdo.PersistenceException&nbsp;ex)</pre>
<div class="block">Convert the given JDOException to an appropriate exception from the
 org.springframework.dao hierarchy. Delegates to the JdoDialect if set, falls
 back to JDOManagerUtils' standard exception translation else.
 May be overridden in subclasses.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ex</code> - PersistenceException that occured</dd>
<dt><span class="strong">Returns:</span></dt><dd>the corresponding DataAccessException instance</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/castor/spring/orm/dialect/CastorDialect.html#translateException(org.exolab.castor.jdo.PersistenceException)"><code>CastorDialect.translateException(org.exolab.castor.jdo.PersistenceException)</code></a>, 
<a href="../../../../org/castor/spring/orm/JDOManagerUtils.html#convertJdoAccessException(org.exolab.castor.jdo.PersistenceException)"><code>JDOManagerUtils.convertJdoAccessException(org.exolab.castor.jdo.PersistenceException)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/CastorTransactionManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/castor/spring/orm/CastorTemplate.html" title="class in org.castor.spring.orm"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/castor/spring/orm/CastorUnsupportedOptionException.html" title="class in org.castor.spring.orm"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/castor/spring/orm/CastorTransactionManager.html" target="_top">Frames</a></li>
<li><a href="CastorTransactionManager.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#fields_inherited_from_class_org.springframework.transaction.support.AbstractPlatformTransactionManager">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2015. All rights reserved.</small></p>
</body>
</html>
